utuility function for version 2